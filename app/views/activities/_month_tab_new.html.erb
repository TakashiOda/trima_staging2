<div class="cp_tab">
  <% if controller.action_name == "stock_new_first_month" %>
    <%=link_to "#{@s_Date.month}月", supplier_activity_new_stocks_first_month_path(current_supplier, @activity), class: "month_tab selected" %>
    <% if @activity.is_all_year_open %>
      <%= button_tag type: 'button', onclick: "alertNeedToSave()", class: 'month_tab' do %>
        <%= "#{(@s_Date >> 1).month}月" %>
      <% end %>
      <%= button_tag type: 'button', onclick: "alertNeedToSave()", class: 'month_tab' do %>
        <%= "#{(@s_Date >> 2).month}月" %>
      <% end %>
      <%= button_tag type: 'button', onclick: "alertNeedToSave()", class: 'month_tab' do %>
        <%= "#{(@s_Date >> 3).month}月" %>
      <% end %>
    <% else %>
      <% if @activity.end_date > @s_Date.end_of_month %>
        <%= button_tag type: 'button', onclick: "alertNeedToSave()", class: 'month_tab' do %>
          <%= "#{(@s_Date >> 1).month}月" %>
        <% end %>
      <% end %>
      <% if @activity.end_date > (@s_Date >> 1).end_of_month %>
        <%= button_tag type: 'button', onclick: "alertNeedToSave()", class: 'month_tab' do %>
          <%= "#{(@s_Date >> 2).month}月" %>
        <% end %>
      <% end %>
      <% if @activity.end_date > (@s_Date >> 2).end_of_month %>
        <%= button_tag type: 'button', onclick: "alertNeedToSave()", class: 'month_tab' do %>
          <%= "#{(@s_Date >> 3).month}月" %>
        <% end %>
      <% end %>
    <% end %>
  <% elsif controller.action_name == "stock_new_next_month" %>
    <%=link_to "#{(@s_Date << 1).month}月", supplier_activity_new_stocks_first_month_path(current_supplier, @activity), class: "month_tab" %>
    <%=link_to "#{@s_Date.month}月", supplier_activity_new_stocks_next_month_path(current_supplier, @activity), class: "month_tab selected" %>
    <% if @activity.is_all_year_open %>
      <%=link_to "#{(@s_Date >> 1).month}月", supplier_activity_new_stocks_next2_month_path(current_supplier, @activity), class: "month_tab" %>
      <%=link_to "#{(@s_Date >> 2).month}月", supplier_activity_new_stocks_next3_month_path(current_supplier, @activity), class: "month_tab" %>
    <% else %>
      <% if !@activity.is_all_year_open && @activity.end_date > @s_Date.end_of_month %>
        <%=link_to "#{(@s_Date >> 1).month}月", supplier_activity_new_stocks_next2_month_path(current_supplier, @activity), class: "month_tab" %>
      <% end %>
      <% if !@activity.is_all_year_open && @activity.end_date > (@s_Date >> 1).end_of_month %>
        <%=link_to "#{(@s_Date >> 2).month}月", supplier_activity_new_stocks_next3_month_path(current_supplier, @activity), class: "month_tab" %>
      <% end %>
    <% end %>
  <% elsif controller.action_name == "stock_new_next2_month" %>
    <%=link_to "#{(@s_Date << 2).month}月", supplier_activity_new_stocks_first_month_path(current_supplier, @activity), class: "month_tab" %>
    <%=link_to "#{(@s_Date << 1).month}月", supplier_activity_new_stocks_next_month_path(current_supplier, @activity), class: "month_tab" %>
    <%=link_to "#{@s_Date.month}月", supplier_activity_new_stocks_next2_month_path(current_supplier, @activity), class: "month_tab selected" %>
    <% if @activity.is_all_year_open %>
      <%=link_to "#{(@s_Date >> 1).month}月", supplier_activity_new_stocks_next3_month_path(current_supplier, @activity), class: "month_tab" %>
    <% else %>
      <% if @activity.end_date > @s_Date.end_of_month %>
        <%=link_to "#{(@s_Date >> 1).month}月", supplier_activity_new_stocks_next3_month_path(current_supplier, @activity), class: "month_tab" %>
      <% end %>
    <% end %>
  <% else %>
    <%=link_to "#{(@s_Date << 3).month}月", supplier_activity_new_stocks_first_month_path(current_supplier, @activity), class: "month_tab" %>
    <%=link_to "#{(@s_Date << 2).month}月", supplier_activity_new_stocks_next_month_path(current_supplier, @activity), class: "month_tab" %>
    <%=link_to "#{(@s_Date << 1).month}月", supplier_activity_new_stocks_next2_month_path(current_supplier, @activity), class: "month_tab" %>
    <%=link_to "#{@s_Date.month}月", supplier_activity_new_stocks_next3_month_path(current_supplier, @activity), class: "month_tab selected" %>
  <% end %>
  <div class="form_big_title_questionIcon about_stock_term">
    <i class="far fa-question-circle"></i>
    <p id="fukidashi_about_stock_term">
      在庫は最大３ヶ月先の月末まで作成できます。
    </p>
  </div>
</div>

<style lang="scss">
  a.month_tab.selected {
    background: #0068b6;
    color: #fff;
  }
  a.month_tab {
    padding: 15px 30px;
    display: flex;
    justify-content: center;
    align-items: center;
    font-weight: bold;
    background: lightgray;
    color: gray;
    border-top-left-radius: 7px;
    border-top-right-radius: 8px;
    border: solid 0.5px #b9b9b9;
    border-bottom: none;
  }
  .stock_form_tab_and_submit {
    height: 45px;
  }
  input.month_tab.selected {
    background: #0068b6;
    color: #fff;
  }
  button.month_tab {
    padding: 10px 30px;
    height: 45px;
    display: flex;
    justify-content: center;
    align-items: center;
    font-weight: bold;
    background: lightgray;
    color: gray;
    border-top-left-radius: 7px;
    border-top-right-radius: 8px;
    border: solid 0.5px #b9b9b9;
    border-bottom: none;
  }
  button.month_tab:focus {
    outline: 0;
  }
  button.month_tab:hover {
    outline: 0;
    cursor: pointer;
    opacity: 0.6;
  }
  input.month_tab.selected:hover {
    opacity: 1;
  }
  .form_big_title_questionIcon.about_stock_term {
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
    width: 50px;
  }

  #fukidashi_about_stock_term {
    display: none;
    width: 200px;
    position: absolute;
    bottom: 40px;
    right: -87px;
    z-index: 100;
    padding: 16px;
    border-radius: 5px;
    background: #9e9e9eeb;
    color: #fff;
    font-weight: bold;
    font-size: 12px;
  }
  #fukidashi_about_stock_term:after {
    position: absolute;
    width: 0;
    height: 0;
    left: 100px;
    right: 100px;
    bottom: -20px;
    margin-left: 10px;
    border: solid transparent;
    border-color: rgba(51, 204, 153, 0);
    border-top-color: #9e9e9eeb;
    border-width: 10px;
    pointer-events: none;
    content: " ";
  }
  .form_big_title_questionIcon.about_stock_term svg:hover + #fukidashi_about_stock_term {
    display: block;
  }
  .form_big_title_questionIcon.about_stock_term svg {
    margin: 0;
    color: #0568b4;
    width: 22px !important;
    height: 22px !important;
  }
</style>


<script type="text/javascript">

  // function cantPushWithoutSave(){
  //   console.log('aaaaaa');
  // }
</script>
